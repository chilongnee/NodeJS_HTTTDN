<div class="container-fluid">
    <!-- Breadcrumbs-->
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="/home">Home</a>
        </li>
        <li class="breadcrumb-item active">Improvements</li>
    </ol>
    <div class="row">
        <div class="col-md-8">
            <h3><i class="fa-solid fa-cart-shopping"></i> <b>Cart</b></h3>
            <br>
            <div id="cart-items">
                <table>
                    <thead>
                        <tr>
                            <th>Image</th>
                            <th>Product</th>
                            <th>Quantity</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="width: 10%;"><img style="width: 100%;" src="images/ip15.png"></td>
                            <td>Iphone 15</td>
                            <td>1</td>
                            <td>2000$</td>
                        </tr>
                        <tr>
                            <td style="width: 10%;"><img style="width: 100%;" src="images/ip15.png"></td>
                            <td>Iphone 14</td>
                            <td>1</td>
                            <td>1500$</td>
                        </tr>
                    </tbody>
                </table>
                <br>
                <br>
                <h5>Total Price: <span id="total-price">0</span></h5>
                <br>
            </div>
        </div>
        <div class="col-md-4">
            <h3><i class="fa-solid fa-circle-info"></i> <b>Customer Information</b></h3>
            <br>
            <form>
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" class="form-control" id="name" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number:</label>
                    <input type="tel" class="form-control" id="phone" placeholder="Enter your phone number">
                </div>
                <div class="form-group">
                    <label for="coupon">Coupon:</label>
                    <input type="text" class="form-control" id="coupon" placeholder="Enter your coupon code">
                </div>
                <div class="form-group">
                    <label for="payment">Payment Method:</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="payment" id="payment-cash" value="cash">
                        <label class="form-check-label" for="payment-cash">
                            Cash on Delivery
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="payment" id="payment-card" value="card">
                        <label class="form-check-label" for="payment-card">
                            Credit Card
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <button type="button" class="btn btn-danger btn-rectangular" id="return-button"><i class="fa-solid fa-arrow-left"></i> Return</button>
                    </div>
                    <div class="col-md-6">
                        <button type="button" class="btn btn-success btn-rectangular" id="pay-button"><i class="fa-solid fa-credit-card"></i> Pay</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    // Calculate the total price
    function calculateTotalPrice() {
        var totalPrice = 0;
        var priceElements = document.querySelectorAll("#cart-items tbody td:nth-child(4)");

        priceElements.forEach(function (element) {
            var price = parseInt(element.textContent.replace("$", ""));
            totalPrice += price;
        });

        document.getElementById("total-price").textContent = totalPrice + "$";
    }

    // Redirect to /POS when the Return button is clicked
    document.getElementById("return-button").addEventListener("click", function () {
        window.location.href = "/POS";
    });

    // Redirect to /invoice when the Pay button is clicked
    document.getElementById("pay-button").addEventListener("click", function () {
        window.location.href = "/invoice";
    });

    // Calculate the total price initially
    calculateTotalPrice();
</script>